<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/tr/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- 
     Example File From "JavaScript and DHTML Cookbook"
     Second Edition
     Published by O'Reilly Media, Inc
     Copyright 2007 Danny Goodman
-->
<html>
<head>
<title>Recipe 10.04b</title>
<link rel="stylesheet" id="mainStyle" href="../css/cookbook.css" type="text/css" />
<style type="text/css">
html {background-color:#eeeeee}
body {background-color:#cccccc}
</style>
<script src="../js/cookieManager.js"></script>
<script type="text/javascript">
function saveValues() {
	cookieMgr.setCookie("name1", document.forms[0].name1.value);
	cookieMgr.setCookie("name2", document.forms[0].name2.value);
	cookieMgr.setCookie("color", document.forms[0].color.options[document.forms[0].color.selectedIndex].value);
}

function applyValues() {
	var form = document.forms[0];
	form.name1.value = (cookieMgr.getCookie("name1")) ? cookieMgr.getCookie("name1") : "";
	form.name2.value = (cookieMgr.getCookie("name2")) ? cookieMgr.getCookie("name2") : "";
	var selValue = (cookieMgr.getCookie("color")) ? cookieMgr.getCookie("color") : "";
	if (selValue) {
		for (var i = 0; i < form.color.options.length; i++) {
			if (form.color.options[i].value == selValue) {
				form.color.selectedIndex = i;
				break;
			}
		}
	}
}

</script>
</head>
<body onunload="saveValues()" onload="applyValues()">
<h1>Page Two</h1>
<hr>
<form>
First Name: <input type="text" name="name1" id="name1"><br>
Last Name: <input type="text" name="name2" id="name2"><br>
Your favorite color: <select id="color" name="color">
	<option value="">Pick a color:</option>
	<option value="Red">Red</option>
	<option value="Green">Green</option>
	<option value="Blue">Blue</option>
</select>
</form>
<p>Go to <a href="recipe10_04a.html">Previous Page</a></p>
</body>
</html>
